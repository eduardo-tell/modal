"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var Modal=function(){function a(b){_classCallCheck(this,a),this.modal=document.querySelectorAll("#"+b)[0],this.main=document.getElementsByTagName("main")[0],this.modal.alvo=b}return _createClass(a,[{key:"abre",value:function abre(a){this.modal.conteudoEscolhido=a,this.modal.classList.contains("aberto")?(this.conteudoModal()):this.montaModal()}},{key:"isHidden",value:function isHidden(a){return null===a.offsetParent}},{key:"fecha",value:function fecha(){this.desfoque(),this.modal.classList.remove("md-show")}},{key:"EscondeConteudos",value:function EscondeConteudos(){document.querySelectorAll("#modal > div").forEach(function(a){a.style.display="none"})}},{key:"desfoque",value:function desfoque(){this.main.classList.toggle("blur")}},{key:"exibeModal",value:function exibeModal(){this.EscondeConteudos(),this.desfoque(),setTimeout(function(){this.modal.modal.classList.add("md-show"),document.querySelector("."+this.modal.modal.conteudoEscolhido).style.display=null},100)}},{key:"montaModal",value:function montaModal(){var a=this;(function montaBotaoFechar(){if(!document.querySelectorAll(".md-overlay").length){var f=document.createElement("div");f.classList.add("md-overlay"),a.modal.parentNode.insertBefore(f,a.modal.nextSibling)}if(!document.querySelectorAll(".fecha-modal").length){var b=document.createElement("button");b.innerHTML="Fechar",b.classList.add("btn","fecha-modal"),a.modal.after(b);for(var c,d=document.querySelectorAll(".fecha-modal"),e=0;e<d.length;e++)c=d[e],c.addEventListener("click",function(){a.fecha()})}return a.conteudoModal()})()}},{key:"conteudoModal",value:function conteudoModal(){var a=this;(function existeConteudo(){return a.modal.conteudoEscolhido?0!=document.querySelectorAll("."+a.modal.conteudoEscolhido).length:0!=document.querySelectorAll("#modal > div").length})()?this.exibeModal():function requisicao(){var b="",c=new XMLHttpRequest,d=function(){var b=document.createElement("div");b.innerHTML=c.responseText,a.modal.appendChild(b.firstChild),a.conteudoModal(a.modal.conteudoEscolhido)};return c?void(b="modal/"+a.modal.conteudoEscolhido+".html",c.open("GET",b),c.send(),c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&(200===c.status?d(a.modal.conteudoEscolhido):void 0)}):(!1)}()}}]),a}(),modal=new Modal("modal");